// room script file

function oSoup1_Interact(Object *theObject, CursorMode mode)
{
  SoupType = 1;
  DisplayAtY(200, "Tomato Soup");
}

function oSoup2_Interact(Object *theObject, CursorMode mode)
{
  SoupType = 2;
  DisplayAtY(200, "Bean Soup");
}

function oSoup3_Interact(Object *theObject, CursorMode mode)
{
  SoupType = 3;
  DisplayAtY(200, "Chicken Soup");
}

function oBowl_Interact(Object *theObject, CursorMode mode)
{
  if (SoupType > 0)
  {
    oBowl.SetView(2);
    oBowl.Animate(0, 10, eOnce, eNoBlock);
    soupDrag = true;
  }
}

function on_mouse_click(MouseButton button)
{
  if (soupDrag == true)
  {
    if (button == eMouseLeft)
    {
      Object* obj = Object.GetAtScreenXY(mouse.x, mouse.y);
      if (isDragging)
      {
        isDragging = false;
        draggedObject = null;
      }
      if (obj != null)
      {
        isDragging = true;
        draggedObject = obj;
      }
    }
  }
}

function room_RepExec()
{
  if (isDragging && draggedObject != null)
  {
    draggedObject.SetPosition(mouse.x, mouse.y);
  }
}

function hPlatform_MouseMove(Hotspot *theHotspot)
{
 if (soupDrag==true)
 {
   cEgo.ChangeRoom(1);
 }
}
